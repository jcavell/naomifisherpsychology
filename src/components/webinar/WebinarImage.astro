---
import { Picture } from "astro:assets";

import { getWebinarMeta } from "../../scripts/webinarMeta";
import type { Webinar } from "../../types/webinar";

interface Props {
    webinar: Webinar;
}

const  { webinar } = Astro.props;
const webinarMeta = getWebinarMeta(webinar.id);
const image = webinarMeta?.image;
---

{
  image && (
    <Picture
      src={image}
      widths={[620, 1016, 2176]}
      sizes={`(min-width: 1185px) 1088px, (min-width: 780px) 754px, 100vw`}
      alt={`${webinar.title}`}
      pictureAttributes={{}}
    />
  )
}

{
  !image && (
    <img
      loading="lazy"
      src={webinar.logoUrl}
      alt={`Image for ${webinar.title}`}
    />
  )
}
