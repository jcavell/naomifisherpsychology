---
import { makeUrl } from "../../scripts/url";
import CourseDetails from "../../components/course/CourseDetails.astro";
import getCourses from "../../scripts/courses";
import BaseLayout from "../../layouts/BaseLayout.astro";

export async function getStaticPaths() {
  const courses = await getCourses();

  return courses.map((course) => ({
    params: { title: makeUrl(course.data.title) },
    props: {
      course: course
    },
  }));
}
      
const { course } = Astro.props;

// console.log("COURSE: " + course.data.title + " " + JSON.stringify(course.related));
---

<BaseLayout pageTitle={course.data.title}>
  <CourseDetails course={course.data}/>
</BaseLayout>
