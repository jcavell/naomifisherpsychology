---
import { makeUrl } from "../../scripts/url";
import CourseLayout from "../../layouts/CourseLayout.astro";
import CourseDetails from "../../components/course/CourseDetails.astro";
import getCourses from "../../scripts/courses";

export async function getStaticPaths() {
  const courses = await getCourses();

  return courses.map((course) => ({
    params: { title: makeUrl(course.data.title) },
    props: {
      course: course
    },
  }));
}
      
const { course } = Astro.props;
---

<CourseLayout pageTitle={course.data.title}>
  <CourseDetails course={course.data}/>
</CourseLayout>
