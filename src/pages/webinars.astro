---
import WebinarSummary from "../components/WebinarSummary.astro";
import WebinarLayout from "../layouts/WebinarLayout.astro";
import getWebinars from "../scripts/webinars.js";
import testWebinars1 from "../test-data/eventbrite/1event.json";
import testWebinars3 from "../test-data/eventbrite/3events.json";

const pageTitle = "Webinars";

const webinars = await getWebinars();
---

<WebinarLayout pageTitle={pageTitle}>
  {
    webinars.map((webinar, index) => (
      <WebinarSummary
        eventId={webinar.id}
        imageURL={webinar.logo.original.url}
        tags={webinar.tags}
        people={webinar.people}
        checkoutURL={webinar.url}
        title={webinar.name.text}
        subtitle={webinar.description.text}
        start={webinar.start.utc}
        end={webinar.end.utc}
        tickets={webinar.orderedTickets}
      />
    ))
  }
</WebinarLayout>
